# 広告イレイザー - プロジェクト計画書

## プロジェクト概要

「広告イレイザー」は、画面に表示される広告の「×ボタン」を素早く正確にタップすることでスコアを稼ぐゲームです。CPM型広告を活用し、ゲームプレイ自体が広告表示機会となる革新的な収益モデルを採用しています。

## 技術スタック

- **フロントエンド**: Next.js（React + TypeScript）
- **スタイリング**: Tailwind CSS
- **状態管理**: React Context API
- **データ保存**: IndexedDB（ローカル）、Firebase/Supabase（バックエンド）
- **分析ツール**: Matomo Analytics
- **広告ネットワーク**: ExoClick, PopAds, Adsterra

## ディレクトリ構造

```
/src
  /app - Next.jsのルーティング
  /components - Reactコンポーネント
    /game - ゲーム関連コンポーネント
    /ads - 広告関連コンポーネント
    /ui - 共通UIコンポーネント
  /hooks - カスタムフック
  /contexts - コンテキスト
  /services - サービス層
    /ads - 広告サービス
    /score - スコア管理
    /analytics - 分析
  /types - 型定義
  /utils - ユーティリティ関数
  /lib - ライブラリ統合
```

## 主要機能

1. **ゲームループ**
   - 60秒の制限時間
   - ×ボタンタップでスコア加算（+10点）
   - 誤タップで時間減少ペナルティ（-5秒）

2. **広告管理**
   - 中央広告表示・更新機能
   - 背景バナー広告（4ヶ所）
   - ポップアンダー広告

3. **スコア管理**
   - ローカルスコア保存
   - オンラインランキング連携

4. **分析機能**
   - Matomo Analytics連携
   - ゲームプレイデータ収集
   - 広告表示・クリック率分析

## 開発フェーズ

### フェーズ1: 基本設計とインフラ構築
- プロジェクト初期設定
- 広告ネットワーク連携準備
- 基本ゲームロジック設計

### フェーズ2: コアゲーム機能実装
- 広告表示システム
- バックグラウンド広告管理
- 基本UI実装

### フェーズ3: データ管理
- ローカルデータ管理
- バックエンドの設定
- 分析機能実装

### フェーズ4: 最適化とリリース
- パフォーマンス最適化
- テストと改善
- リリース準備

## 拡張性考慮ポイント

1. **ゲームモード追加**
   - 難易度レベル
   - 特殊ルール

2. **UI/UXの拡張**
   - テーマカスタマイズ
   - アニメーション強化

3. **収益モデル拡張**
   - 新広告フォーマット対応
   - A/Bテスト機能 